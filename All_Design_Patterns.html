<h1 id="all-design-patterns">All Design Patterns</h1>
<p>Generated from repository files.</p>
<hr />
<h2 id="nullobjectpattern">NullObjectPattern</h2>
<h3 id="overview-readme.md">Overview (README.md)</h3>
<h1 id="null-object-pattern">Null Object Pattern</h1>
<h2 id="what-is-it">What is it?</h2>
<p>The Null Object pattern provides an object as a surrogate for the
lack of an object. Instead of returning null or checking for null, use a
special “null” object that does nothing.</p>
<h2 id="when-to-use-it">When to use it?</h2>
<ul>
<li>Avoid null pointer exceptions (NullPointerException)</li>
<li>Eliminate null checks throughout code</li>
<li>Provide default behavior for missing objects</li>
<li>Simplify client code logic</li>
</ul>
<h2 id="real-world-example">Real-world Example</h2>
<p><strong>Vehicle Factory</strong>: Return a NullVehicle instead of
null when a vehicle type is not found, avoiding null checks in client
code.</p>
<h2 id="key-benefits">Key Benefits</h2>
<p>✓ Eliminates null checks ✓ Prevents NullPointerException ✓ Simplifies
client code ✓ Provides default behavior transparently ✓ Follows
Open/Closed Principle</p>
<h2 id="key-drawbacks">Key Drawbacks</h2>
<p>✗ Can hide bugs (silent failures) ✗ May mask incorrect behavior ✗
Adds extra classes (null objects) ✗ Requires discipline to implement
correctly</p>
<h2 id="easy-analogy">Easy Analogy</h2>
<p><strong>Think of it like a backup player on a sports team:</strong>
When the main player gets injured, instead of having “no player”, you
put in a backup player who can do basic things but doesn’t contribute
much. Your team keeps running without checking “do we have a
player?”</p>
<h2 id="implementation-notes">Implementation Notes</h2>
<ul>
<li>Create a NullObject class that implements the same interface</li>
<li>Override methods to do nothing or return default values</li>
<li>Return NullObject instead of null from factory methods</li>
<li>Use composition where null object provides safe defaults</li>
</ul>
<h3 id="uml-class-diagram">UML / Class Diagram</h3>
<h1 id="null-object---class-diagram">Null Object - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class Vehicle {
        &lt;&lt;interface&gt;&gt;
        +drive()
        +stop()
    }

    class Car {
        +drive()
        +stop()
    }

    class NullVehicle {
        +drive() empty implementation
        +stop() empty implementation
    }

    class VehicleFactory {
        +getVehicle(type): Vehicle
    }

    Vehicle &lt;|.. Car
    Vehicle &lt;|.. NullVehicle
    VehicleFactory --&gt; Vehicle: creates</code></pre>
<h2 id="class-relationships">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Vehicle</strong></td>
<td>Interface defining vehicle behavior (contract)</td>
<td>None</td>
</tr>
<tr>
<td><strong>Car</strong></td>
<td>Real implementation of vehicle</td>
<td>Implements Vehicle</td>
</tr>
<tr>
<td><strong>NullVehicle</strong></td>
<td>Null object - implements interface but does nothing</td>
<td>Implements Vehicle</td>
</tr>
<tr>
<td><strong>VehicleFactory</strong></td>
<td>Creates vehicles or NullVehicle instead of returning null</td>
<td>Returns Vehicle</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Define Interface</strong>: Create <code>Vehicle</code>
interface</li>
<li><strong>Create Real Class</strong>: <code>Car</code> implements
<code>Vehicle</code> with actual behavior</li>
<li><strong>Create Null Class</strong>: <code>NullVehicle</code>
implements <code>Vehicle</code> with empty methods</li>
<li><strong>Update Factory</strong>: Return <code>NullVehicle</code>
instead of <code>null</code></li>
<li><strong>No Null Checks</strong>: Client code doesn’t need to check
for null</li>
</ol>
<hr />
<h2 id="observerpattern">ObserverPattern</h2>
<h3 id="overview-readme.md-1">Overview (README.md)</h3>
<h1 id="observer-pattern">Observer Pattern</h1>
<h2 id="what-is-it-1">What is it?</h2>
<p>The Observer pattern defines a one-to-many dependency where when one
object changes state, all dependent objects are notified automatically
and updated.</p>
<h2 id="when-to-use-it-1">When to use it?</h2>
<ul>
<li>A change to one object requires changing unknown number of other
objects</li>
<li>An object should notify others without assuming who they are</li>
<li>Model real-world event systems (event listeners, MVC
architecture)</li>
<li>Implement pub-sub systems</li>
</ul>
<h2 id="real-world-example-1">Real-world Example</h2>
<p><strong>E-commerce Stock System</strong>: When product stock changes,
all observers (email notifier, SMS notifier, mobile app) are notified
automatically.</p>
<h2 id="key-benefits-1">Key Benefits</h2>
<p>✓ Loose coupling between observers and subject ✓ Dynamic
subscription/unsubscription ✓ One-to-many communication ✓ Supports
event-driven architecture ✓ Easy to extend with new observers</p>
<h2 id="key-drawbacks-1">Key Drawbacks</h2>
<p>✗ Observer notification order is not guaranteed ✗ All observers are
notified even if they don’t need the update ✗ Memory leaks if observers
not unsubscribed properly ✗ Debugging can be difficult (implicit
dependencies)</p>
<h2 id="easy-analogy-1">Easy Analogy</h2>
<p><strong>Think of it like YouTube subscriptions:</strong> You
(Observer) subscribe to a channel (Subject) → When the creator uploads a
video (state change), YouTube notifies all subscribers automatically. If
you unsubscribe, no more notifications.</p>
<h2 id="implementation-notes-1">Implementation Notes</h2>
<ul>
<li><strong>Subject</strong>: Maintains list of observers, notifies on
state change</li>
<li><strong>Observer</strong>: Interface with update() method</li>
<li><strong>ConcreteObserver</strong>: Implements update() to react to
changes</li>
<li>Use weak references to avoid memory leaks</li>
<li>Consider thread-safety for concurrent observers</li>
</ul>
<h3 id="uml-class-diagram-1">UML / Class Diagram</h3>
<h1 id="observer---class-diagram">Observer - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class StockObserver {
        &lt;&lt;interface&gt;&gt;
        +update(price: double)
    }

    class EmailNotifier {
        +update(price: double)
    }

    class SMSNotifier {
        +update(price: double)
    }

    class StockSubject {
        -observers: List~StockObserver~
        -price: double
        +attach(StockObserver)
        +detach(StockObserver)
        -notifyObservers()
        +setPrice(double)
    }

    StockObserver &lt;|.. EmailNotifier
    StockObserver &lt;|.. SMSNotifier
    StockSubject --&gt; StockObserver: notifies</code></pre>
<h2 id="class-relationships-1">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>StockObserver</strong></td>
<td>Interface for observers receiving notifications</td>
<td>None</td>
</tr>
<tr>
<td><strong>EmailNotifier</strong></td>
<td>Concrete observer - sends email when notified</td>
<td>Implements StockObserver</td>
</tr>
<tr>
<td><strong>SMSNotifier</strong></td>
<td>Concrete observer - sends SMS when notified</td>
<td>Implements StockObserver</td>
</tr>
<tr>
<td><strong>StockSubject</strong></td>
<td>Subject/Observable - notifies all observers on state change</td>
<td>Maintains list of StockObserver</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-1">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Observer Interface</strong>: Define
<code>update()</code> method signature</li>
<li><strong>Create Concrete Observers</strong>:
<code>EmailNotifier</code>, <code>SMSNotifier</code> implement
<code>update()</code></li>
<li><strong>Create Subject</strong>: Maintain list of observers</li>
<li><strong>Implement attach()</strong>: Add observer to list</li>
<li><strong>Implement detach()</strong>: Remove observer from list</li>
<li><strong>Implement notifyObservers()</strong>: Call
<code>update()</code> on all observers</li>
<li><strong>On State Change</strong>: Call
<code>notifyObservers()</code> when data changes</li>
</ol>
<hr />
<h2 id="chainofresponsibilty">chainOfResponsibilty</h2>
<h3 id="overview-readme.md-2">Overview (README.md)</h3>
<h1 id="chain-of-responsibility-pattern">Chain of Responsibility
Pattern</h1>
<h2 id="what-is-it-2">What is it?</h2>
<p>The Chain of Responsibility pattern allows you to pass requests along
a chain of handlers. Each handler decides whether to process the request
or pass it to the next handler in the chain.</p>
<h2 id="when-to-use-it-2">When to use it?</h2>
<ul>
<li>Multiple objects may handle a request, and the handler isn’t known
in advance</li>
<li>You want to issue requests without specifying the receiver (e.g.,
logging at different levels)</li>
<li>You need to dynamically configure the chain of handlers</li>
</ul>
<h2 id="real-world-example-2">Real-world Example</h2>
<p><strong>Logging System</strong>: Different log levels (Debug → Info →
Error) where each level handles its corresponding messages and passes
others down the chain.</p>
<h2 id="key-benefits-2">Key Benefits</h2>
<p>✓ Decouples sender from receiver ✓ Flexible chain configuration at
runtime ✓ Single Responsibility: Each handler handles one responsibility
✓ Open/Closed Principle: Add new handlers without modifying existing
ones</p>
<h2 id="key-drawbacks-2">Key Drawbacks</h2>
<p>✗ Request may not be handled if chain is not properly configured ✗
Difficult to debug (request path not always clear) ✗ Performance
overhead from passing through chain</p>
<h2 id="easy-analogy-2">Easy Analogy</h2>
<p><strong>Think of it like a complaint handling system in a
company:</strong> Your complaint goes to the frontdesk → If they can’t
solve it, they pass to manager → If manager can’t solve, they pass to
director. Each person (handler) decides if they can handle it or pass it
on.</p>
<h2 id="implementation-notes-2">Implementation Notes</h2>
<ul>
<li>Each handler should have a reference to the next handler</li>
<li>Handler should process request and decide to pass or not</li>
<li>Create chain before using it</li>
</ul>
<h3 id="uml-class-diagram-2">UML / Class Diagram</h3>
<h1 id="chain-of-responsibility---class-diagram">Chain of Responsibility
- Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class LogProcessor {
        &lt;&lt;abstract&gt;&gt;
        -nextProcessor: LogProcessor
        +setNextProcessor(LogProcessor)
        +logMessage(int level, String message)
        #write(String message)
    }

    class DebugLogProcessor {
        #write(String message)
    }

    class InfoLogProcessor {
        #write(String message)
    }

    class ErrorLogProcessor {
        #write(String message)
    }

    LogProcessor &lt;|-- DebugLogProcessor
    LogProcessor &lt;|-- InfoLogProcessor
    LogProcessor &lt;|-- ErrorLogProcessor
    LogProcessor --&gt; LogProcessor: nextProcessor</code></pre>
<h2 id="class-relationships-2">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>LogProcessor</strong></td>
<td>Abstract base - defines chain structure and template for
logging</td>
<td>nextProcessor (self-reference)</td>
</tr>
<tr>
<td><strong>DebugLogProcessor</strong></td>
<td>Handles debug-level log messages</td>
<td>LogProcessor (extends)</td>
</tr>
<tr>
<td><strong>InfoLogProcessor</strong></td>
<td>Handles info-level log messages</td>
<td>LogProcessor (extends)</td>
</tr>
<tr>
<td><strong>ErrorLogProcessor</strong></td>
<td>Handles error-level log messages</td>
<td>LogProcessor (extends)</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-2">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Abstract Processor</strong>: Define
<code>LogProcessor</code> with next processor reference</li>
<li><strong>Implement Processors</strong>: Each concrete class handles
specific log level</li>
<li><strong>Build Chain</strong>: Connect processors in order (Debug →
Info → Error)</li>
<li><strong>Send Request</strong>: Processor either handles it or passes
to next</li>
</ol>
<hr />
<h2 id="mementopattern">mementoPattern</h2>
<h3 id="overview-readme.md-3">Overview (README.md)</h3>
<h1 id="memento-pattern">Memento Pattern</h1>
<h2 id="what-is-it-3">What is it?</h2>
<p>The Memento pattern captures and stores an object’s internal state
without exposing it, allowing the object to be restored to that state
later.</p>
<h2 id="when-to-use-it-3">When to use it?</h2>
<ul>
<li>Implement undo/redo functionality</li>
<li>Save checkpoints of an object’s state</li>
<li>Restore previous state without breaking encapsulation</li>
<li>Maintain history of object states</li>
</ul>
<h2 id="real-world-example-3">Real-world Example</h2>
<p><strong>Text Editor</strong>: Save snapshots of document at different
points so users can undo/redo edits without directly accessing internal
editor state.</p>
<h2 id="key-benefits-3">Key Benefits</h2>
<p>✓ Preserves encapsulation (internal state stays hidden) ✓ Provides
undo/redo functionality ✓ Doesn’t violate Single Responsibility
Principle ✓ Allows state restoration without side effects</p>
<h2 id="key-drawbacks-3">Key Drawbacks</h2>
<p>✗ Memory overhead if too many states are stored ✗ Time overhead to
create/restore snapshots ✗ More complex implementation than simple state
management</p>
<h2 id="easy-analogy-3">Easy Analogy</h2>
<p><strong>Think of it like Google Docs version history:</strong> Your
document (Originator) saves snapshots at certain points → Each snapshot
is a Memento → Google (CareTaker) keeps all versions → You can click on
any version to restore it.</p>
<h2 id="implementation-notes-3">Implementation Notes</h2>
<ul>
<li><strong>Originator</strong>: Object whose state we want to save</li>
<li><strong>Memento</strong>: Stores snapshot of originator’s state</li>
<li><strong>CareTaker</strong>: Manages memento objects and restoration
logic</li>
<li>Store mementos in a list for undo/redo operations</li>
</ul>
<h3 id="uml-class-diagram-3">UML / Class Diagram</h3>
<h1 id="memento---class-diagram">Memento - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class Originator {
        -state: String
        +setState(String)
        +createMemento(): Memento
        +restoreFromMemento(Memento)
    }

    class Memento {
        -state: String
        +getState(): String
    }

    class CareTaker {
        -mementos: List~Memento~
        +saveMemento(Memento)
        +getMemento(int): Memento
    }

    Originator --&gt; Memento: creates
    CareTaker --&gt; Memento: manages</code></pre>
<h2 id="class-relationships-3">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Originator</strong></td>
<td>Creates memento snapshots of its state, can restore from
memento</td>
<td>Creates Memento</td>
</tr>
<tr>
<td><strong>Memento</strong></td>
<td>Immutable snapshot of originator’s state at a point in time</td>
<td>None (value object)</td>
</tr>
<tr>
<td><strong>CareTaker</strong></td>
<td>Manages collection of mementos, provides history management</td>
<td>Stores/retrieves Memento</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-3">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Originator</strong>: Add <code>createMemento()</code>
and <code>restoreFromMemento()</code> methods</li>
<li><strong>Create Memento</strong>: Immutable class storing state
snapshot</li>
<li><strong>Create CareTaker</strong>: Maintain list of mementos
(undo/redo stack)</li>
<li><strong>Save State</strong>: Call <code>createMemento()</code>
before changes</li>
<li><strong>Restore State</strong>: Call
<code>restoreFromMemento()</code> to go back</li>
</ol>
<hr />
<h2 id="objectpoolpattern">objectPoolPattern</h2>
<h3 id="overview-readme.md-4">Overview (README.md)</h3>
<h1 id="object-pool-pattern">Object Pool Pattern</h1>
<h2 id="what-is-it-4">What is it?</h2>
<p>The Object Pool pattern reuses objects that are expensive to create
by maintaining a pool of initialized objects. When needed, objects are
borrowed from the pool and returned after use.</p>
<h2 id="when-to-use-it-4">When to use it?</h2>
<ul>
<li>Creating objects is expensive (database connections, threads)</li>
<li>Frequent object creation/destruction causes performance issues</li>
<li>Need controlled resource allocation</li>
<li>Multiple threads need access to limited resources</li>
</ul>
<h2 id="real-world-example-4">Real-world Example</h2>
<p><strong>Database Connection Pool</strong>: Maintain a pool of
reusable database connections instead of creating new ones for each
request. Connections are borrowed and returned to pool.</p>
<h2 id="key-benefits-4">Key Benefits</h2>
<p>✓ Improved performance (avoid repeated object creation) ✓ Better
resource management ✓ Thread-safe connection/resource management ✓
Reduces garbage collection overhead ✓ Predictable resource
allocation</p>
<h2 id="key-drawbacks-4">Key Drawbacks</h2>
<p>✗ Increased memory usage (maintaining pool) ✗ More complex
implementation ✗ Synchronization overhead for thread-safety ✗ Risk of
resource leaks if not managed properly</p>
<h2 id="easy-analogy-4">Easy Analogy</h2>
<p><strong>Think of it like a library lending system:</strong> Instead
of making a new book for each person, the library has a pool of books.
You borrow a book (getConnection) → Use it → Return it
(releaseConnection). The next person can reuse the same book.</p>
<h2 id="implementation-notes-4">Implementation Notes</h2>
<ul>
<li>Maintain available and in-use lists/queues</li>
<li>Implement acquire() to borrow from pool</li>
<li>Implement release() to return to pool</li>
<li>Handle pool exhaustion gracefully</li>
<li>Ensure proper initialization of pooled objects</li>
</ul>
<h3 id="uml-class-diagram-4">UML / Class Diagram</h3>
<h1 id="object-pool---class-diagram">Object Pool - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class DBConnection {
        -connectionId: int
        -isAvailable: boolean
        +executeQuery(String)
        +close()
    }

    class DBConnectionPoolManager {
        -availableConnections: Queue~DBConnection~
        -inUseConnections: Set~DBConnection~
        -poolSize: int
        +getConnection(): DBConnection
        +releaseConnection(DBConnection)
        -createNewConnection(): DBConnection
    }

    DBConnectionPoolManager --&gt; DBConnection: manages &amp; reuses</code></pre>
<h2 id="class-relationships-4">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DBConnection</strong></td>
<td>Represents a database connection that can be reused</td>
<td>None</td>
</tr>
<tr>
<td><strong>DBConnectionPoolManager</strong></td>
<td>Manages pool of connections, hands out and accepts returns</td>
<td>Creates/manages DBConnection</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-4">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Pooled Class</strong>: <code>DBConnection</code> with
proper initialization/cleanup</li>
<li><strong>Create Pool Manager</strong>:
<code>DBConnectionPoolManager</code> with queues for
available/in-use</li>
<li><strong>Implement getConnection()</strong>: Get from available pool
or create new</li>
<li><strong>Implement releaseConnection()</strong>: Return connection to
available pool</li>
<li><strong>Handle Pool Exhaustion</strong>: Either wait for available
or create new (with limits)</li>
<li><strong>Thread Safety</strong>: Use synchronized collections or
locks</li>
</ol>
<hr />
<h2 id="statepattern">statePattern</h2>
<h3 id="overview-readme.md-5">Overview (README.md)</h3>
<h1 id="state-pattern">State Pattern</h1>
<h2 id="what-is-it-5">What is it?</h2>
<p>The State pattern allows an object to alter its behavior when its
internal state changes. The object appears to change its class when the
state changes.</p>
<h2 id="when-to-use-it-5">When to use it?</h2>
<ul>
<li>Object behavior depends on state and must change at runtime</li>
<li>Different behaviors for different states</li>
<li>State transitions are complex</li>
<li>Avoid large if-else chains checking object state</li>
</ul>
<h2 id="real-world-example-5">Real-world Example</h2>
<p><strong>ATM Machine</strong>: Behavior changes based on states
(IdleState → CardInsertedState → PinVerifiedState). Operations allowed
depend on current state.</p>
<h2 id="key-benefits-5">Key Benefits</h2>
<p>✓ Eliminates large conditional statements ✓ Single Responsibility:
Each state class handles one state ✓ Open/Closed Principle: Add new
states without modifying existing ones ✓ Makes state transitions
explicit ✓ Improves code readability and maintainability</p>
<h2 id="key-drawbacks-5">Key Drawbacks</h2>
<p>✗ Creates many state classes (increases complexity) ✗ Overkill for
simple state machines ✗ States need access to context (tight coupling
possible)</p>
<h2 id="easy-analogy-5">Easy Analogy</h2>
<p><strong>Think of it like an ATM machine:</strong> IdleState → You
insert card (CardInsertedState) → You enter PIN (PinVerifiedState) → You
withdraw money. At each state, different operations are allowed. You
can’t withdraw without entering PIN.</p>
<h2 id="implementation-notes-5">Implementation Notes</h2>
<ul>
<li><strong>Context</strong>: Maintains instance of concrete state</li>
<li><strong>State</strong>: Interface defining state-specific
behavior</li>
<li><strong>ConcreteState</strong>: Implements behavior for specific
state</li>
<li>Context delegates calls to current state</li>
<li>States can change context state via context reference</li>
<li>Use state pattern for 3+ states or complex transitions</li>
</ul>
<h3 id="uml-class-diagram-5">UML / Class Diagram</h3>
<h1 id="state---class-diagram">State - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class ATMState {
        &lt;&lt;interface&gt;&gt;
        +insertCard(ATM)
        +insertPin(ATM)
        +withdraw(ATM, amount)
    }

    class IdleStateATM {
        +insertCard(ATM)
        +insertPin(ATM)
        +withdraw(ATM, amount)
    }

    class CardInsertedState {
        +insertCard(ATM)
        +insertPin(ATM)
        +withdraw(ATM, amount)
    }

    class PinVerifiedState {
        +insertCard(ATM)
        +insertPin(ATM)
        +withdraw(ATM, amount)
    }

    class ATM {
        -currentState: ATMState
        +setState(ATMState)
        +insertCard()
        +insertPin()
        +withdraw(amount)
    }

    ATMState &lt;|.. IdleStateATM
    ATMState &lt;|.. CardInsertedState
    ATMState &lt;|.. PinVerifiedState
    ATM --&gt; ATMState: currentState</code></pre>
<h2 id="class-relationships-5">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ATMState</strong></td>
<td>Interface defining operations for a state</td>
<td>None</td>
</tr>
<tr>
<td><strong>IdleStateATM</strong></td>
<td>Initial state - only allows card insertion</td>
<td>Implements ATMState</td>
</tr>
<tr>
<td><strong>CardInsertedState</strong></td>
<td>Card inserted - only allows PIN entry</td>
<td>Implements ATMState</td>
</tr>
<tr>
<td><strong>PinVerifiedState</strong></td>
<td>PIN verified - only allows withdrawal</td>
<td>Implements ATMState</td>
</tr>
<tr>
<td><strong>ATM</strong></td>
<td>Context - delegates to current state</td>
<td>Holds reference to ATMState</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-5">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create State Interface</strong>: Define operations like
<code>insertCard()</code>, <code>insertPin()</code>,
<code>withdraw()</code></li>
<li><strong>Create Concrete States</strong>: Each state implements the
interface</li>
<li><strong>In State Implementation</strong>: Only allow valid
operations, change ATM state accordingly</li>
<li><strong>Create Context (ATM)</strong>: Maintain current state,
delegate method calls to it</li>
<li><strong>State Transitions</strong>: From within state methods, call
<code>atm.setState(newState)</code></li>
<li><strong>Invalid Operations</strong>: Throw exception or do nothing
for invalid state transitions</li>
</ol>
<hr />
<h2 id="strategypattern">strategyPattern</h2>
<h3 id="overview-readme.md-6">Overview (README.md)</h3>
<h1 id="strategy-pattern">Strategy Pattern</h1>
<h2 id="what-is-it-6">What is it?</h2>
<p>The Strategy pattern defines a family of algorithms, encapsulates
each one, and makes them interchangeable. It lets the algorithm vary
independently from clients that use it.</p>
<h2 id="when-to-use-it-6">When to use it?</h2>
<ul>
<li>Many related classes differ only in behavior</li>
<li>You need different variants of an algorithm</li>
<li>Avoid conditional statements for algorithm selection</li>
<li>Need to switch algorithms at runtime</li>
</ul>
<h2 id="real-world-example-6">Real-world Example</h2>
<p><strong>Vehicle Driving Modes</strong>: Normal vehicle drives
normally, sports vehicle can switch to sports drive mode. Different
driving strategies without changing vehicle class.</p>
<h2 id="key-benefits-6">Key Benefits</h2>
<p>✓ Eliminates conditional statements ✓ Easy to switch algorithms at
runtime ✓ Single Responsibility: Each strategy handles one algorithm ✓
Open/Closed Principle: Add new strategies easily ✓ Improved testability
(test each strategy independently)</p>
<h2 id="key-drawbacks-6">Key Drawbacks</h2>
<p>✗ Creates many strategy classes (increases classes count) ✗ Overkill
for simple algorithms ✗ Client must know about strategies ✗ Runtime
overhead from dynamic dispatch</p>
<h2 id="easy-analogy-6">Easy Analogy</h2>
<p><strong>Think of it like choosing different routes to reach your
destination:</strong> You have a car (Vehicle) → You can use GoogleMaps
route (Strategy1) → Or Waze route (Strategy2) → Or local knowledge route
(Strategy3). Same destination, different strategies. You can switch
anytime.</p>
<h2 id="implementation-notes-6">Implementation Notes</h2>
<ul>
<li><strong>Context</strong>: Uses strategy interface, doesn’t know
concrete strategy</li>
<li><strong>Strategy</strong>: Interface defining algorithm
contract</li>
<li><strong>ConcreteStrategy</strong>: Implements specific
algorithm</li>
<li>Strategy can be set during initialization or at runtime</li>
<li>Use dependency injection for strategy assignment</li>
<li>Strategies should be stateless when possible</li>
</ul>
<h3 id="uml-class-diagram-6">UML / Class Diagram</h3>
<h1 id="strategy---class-diagram">Strategy - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class DriveStrategy {
        &lt;&lt;interface&gt;&gt;
        +drive()
    }

    class NormalDrive {
        +drive()
    }

    class SportsDrive {
        +drive()
    }

    class Vehicle {
        -driveStrategy: DriveStrategy
        +setDriveStrategy(DriveStrategy)
        +drive()
    }

    DriveStrategy &lt;|.. NormalDrive
    DriveStrategy &lt;|.. SportsDrive
    Vehicle --&gt; DriveStrategy: uses</code></pre>
<h2 id="class-relationships-6">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DriveStrategy</strong></td>
<td>Interface defining driving algorithms</td>
<td>None</td>
</tr>
<tr>
<td><strong>NormalDrive</strong></td>
<td>Concrete strategy - normal driving behavior</td>
<td>Implements DriveStrategy</td>
</tr>
<tr>
<td><strong>SportsDrive</strong></td>
<td>Concrete strategy - aggressive driving behavior</td>
<td>Implements DriveStrategy</td>
</tr>
<tr>
<td><strong>Vehicle</strong></td>
<td>Context - uses strategy to drive</td>
<td>Holds reference to DriveStrategy</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-6">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Strategy Interface</strong>: Define
<code>drive()</code> method</li>
<li><strong>Create Concrete Strategies</strong>:
<code>NormalDrive</code> and <code>SportsDrive</code></li>
<li><strong>Create Context (Vehicle)</strong>: Maintain reference to
strategy</li>
<li><strong>Implement setDriveStrategy()</strong>: Allow changing
strategy at runtime</li>
<li><strong>Delegate to Strategy</strong>: <code>vehicle.drive()</code>
calls <code>strategy.drive()</code></li>
<li><strong>Switch Algorithms</strong>: Change strategy based on user
input or conditions</li>
</ol>
<hr />
<h2 id="templatepattern">templatePattern</h2>
<h3 id="overview-readme.md-7">Overview (README.md)</h3>
<h1 id="template-pattern">Template Pattern</h1>
<h2 id="what-is-it-7">What is it?</h2>
<p>The Template Pattern defines the skeleton of an algorithm in a
method, deferring some steps to subclasses. It lets subclasses redefine
certain steps without changing the algorithm’s structure.</p>
<h2 id="when-to-use-it-7">When to use it?</h2>
<ul>
<li>Multiple classes have similar algorithm structure</li>
<li>Want to avoid code duplication</li>
<li>Define invariant parts in base class, variant parts in
subclasses</li>
<li>Invert control (Hollywood principle: “Don’t call us, we’ll call
you”)</li>
</ul>
<h2 id="real-world-example-7">Real-world Example</h2>
<p><strong>Payment Processing</strong>: PaymentFlow template defines
steps (validate → charge → confirm). Different payment types (ToFriend,
ToMerchant) implement specific steps differently.</p>
<h2 id="key-benefits-7">Key Benefits</h2>
<p>✓ Eliminates code duplication ✓ Single Responsibility: Separate
algorithm structure from implementation ✓ Open/Closed Principle: Extend
without modifying template ✓ Consistent algorithm execution ✓ Easy to
maintain and extend</p>
<h2 id="key-drawbacks-7">Key Drawbacks</h2>
<p>✗ Class hierarchy may become complex ✗ Violation of Liskov
Substitution if subclasses don’t follow contract ✗ Tight coupling
between base and derived classes ✗ Limited flexibility in algorithm
structure</p>
<h2 id="easy-analogy-7">Easy Analogy</h2>
<p><strong>Think of it like a cooking recipe:</strong> All recipes have
basic steps: Prepare ingredients → Cook → Plate up. But within each
step, the details differ. Pizza preparation is different from Biryani
preparation. The template (steps) stays the same, details vary.</p>
<h2 id="implementation-notes-7">Implementation Notes</h2>
<ul>
<li><strong>AbstractClass</strong>: Defines template method with
algorithm skeleton</li>
<li>Template method calls abstract methods (hooks)</li>
<li>Subclasses override specific abstract methods</li>
<li>Use final keyword on template method to prevent override</li>
<li>Consider using hooks (extension points) for optional
customization</li>
<li>Keep base class focused on algorithm structure</li>
</ul>
<h3 id="uml-class-diagram-7">UML / Class Diagram</h3>
<h1 id="template-method---class-diagram">Template Method - Class
Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class PaymentFlow {
        &lt;&lt;abstract&gt;&gt;
        +pay() final
        #validate()
        #charge()
        #confirm()
    }

    class PaymentToFriend {
        #validate()
        #charge()
        #confirm()
    }

    class PaymentToMerchant {
        #validate()
        #charge()
        #confirm()
    }

    PaymentFlow &lt;|-- PaymentToFriend
    PaymentFlow &lt;|-- PaymentToMerchant</code></pre>
<h2 id="class-relationships-7">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PaymentFlow</strong></td>
<td>Abstract class - defines payment algorithm skeleton (template)</td>
<td>None</td>
</tr>
<tr>
<td><strong>PaymentToFriend</strong></td>
<td>Concrete implementation - specific steps for friend payment</td>
<td>Extends PaymentFlow</td>
</tr>
<tr>
<td><strong>PaymentToMerchant</strong></td>
<td>Concrete implementation - specific steps for merchant payment</td>
<td>Extends PaymentFlow</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-7">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Abstract Class</strong>: Define <code>pay()</code> as
final (can’t override)</li>
<li><strong>Define Template Method</strong>: <code>pay()</code> calls
abstract methods in order</li>
<li><strong>Define Abstract Methods</strong>: <code>validate()</code>,
<code>charge()</code>, <code>confirm()</code> (protected/abstract)</li>
<li><strong>Create Concrete Classes</strong>: Implement abstract methods
with specific logic</li>
<li><strong>Skeleton in Base</strong>: Algorithm structure stays in
base, details in subclasses</li>
<li><strong>Call Order</strong>: Template method controls execution
order, subclasses fill in steps</li>
</ol>
<hr />
<h2 id="abstractfacotorypattern">abstractFacotoryPattern</h2>
<h3 id="overview-readme.md-8">Overview (README.md)</h3>
<h1 id="abstract-factory-pattern">Abstract Factory Pattern</h1>
<h2 id="what-is-it-8">What is it?</h2>
<p>The Abstract Factory pattern provides an interface for creating
families of related or dependent objects without specifying their
concrete classes.</p>
<h2 id="when-to-use-it-8">When to use it?</h2>
<ul>
<li>System needs to work with multiple families of related objects</li>
<li>You want to provide a library showing only interfaces, not
implementation</li>
<li>Need to enforce creating products from same family</li>
<li>Consistency required among products</li>
</ul>
<h2 id="real-world-example-8">Real-world Example</h2>
<p><strong>Car Manufacturing</strong>: Different car types (Economy,
Luxury) need matching components (Engine, Tyre). Abstract factory
ensures economy cars get economy components.</p>
<h2 id="key-benefits-8">Key Benefits</h2>
<p>✓ Isolates concrete classes from client code ✓ Easy to swap product
families ✓ Enforces consistency among related products ✓ Simplifies
extending to support new families ✓ Single Responsibility: Separate
object creation from usage</p>
<h2 id="key-drawbacks-8">Key Drawbacks</h2>
<p>✗ More complex than simple factory (multiple factory classes) ✗
Adding new product type requires modifying all factories ✗ Can be
overkill for simple scenarios ✗ Indirect object creation increases
complexity</p>
<h2 id="easy-analogy-8">Easy Analogy</h2>
<p><strong>Think of it like different restaurant chains:</strong>
McDonalds Factory makes burgers, fries, coke → KFC Factory makes
chicken, fries, coke. Both have same product categories but different
implementations. Customers don’t care, they just ask the factory.</p>
<h2 id="implementation-notes-8">Implementation Notes</h2>
<ul>
<li><strong>AbstractFactory</strong>: Declares factory methods for
creating products</li>
<li><strong>ConcreteFactory</strong>: Implements creation of specific
product family</li>
<li><strong>AbstractProduct</strong>: Interface for related
products</li>
<li><strong>ConcreteProduct</strong>: Concrete implementation of
products</li>
<li>Client works with abstract interfaces only</li>
<li>Use when you have 2+ product families with multiple products
each</li>
</ul>
<h3 id="uml-class-diagram-8">UML / Class Diagram</h3>
<h1 id="abstract-factory---class-diagram">Abstract Factory - Class
Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class CarFactory {
        &lt;&lt;interface&gt;&gt;
        +createCar(): Car
        +createEngine(): Engine
        +createTyre(): Tyre
    }

    class EconomyCarFactory {
        +createCar(): Car
        +createEngine(): Engine
        +createTyre(): Tyre
    }

    class LuxuryCarFactory {
        +createCar(): Car
        +createEngine(): Engine
        +createTyre(): Tyre
    }

    class Car {
        &lt;&lt;interface&gt;&gt;
    }

    class EconomyCar {
    }

    class LuxuryCar {
    }

    class Engine {
        &lt;&lt;interface&gt;&gt;
    }

    class EconomyEngine {
    }

    class LuxuryEngine {
    }

    CarFactory &lt;|.. EconomyCarFactory
    CarFactory &lt;|.. LuxuryCarFactory
    Car &lt;|.. EconomyCar
    Car &lt;|.. LuxuryCar
    Engine &lt;|.. EconomyEngine
    Engine &lt;|.. LuxuryEngine
    EconomyCarFactory --&gt; EconomyCar: creates
    EconomyCarFactory --&gt; EconomyEngine: creates
    LuxuryCarFactory --&gt; LuxuryCar: creates
    LuxuryCarFactory --&gt; LuxuryEngine: creates</code></pre>
<h2 id="class-relationships-8">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>CarFactory</strong></td>
<td>Abstract factory interface - declares creation methods</td>
<td>None</td>
</tr>
<tr>
<td><strong>EconomyCarFactory</strong></td>
<td>Creates economy family products</td>
<td>Creates Economy*, implements CarFactory</td>
</tr>
<tr>
<td><strong>LuxuryCarFactory</strong></td>
<td>Creates luxury family products</td>
<td>Creates Luxury*, implements CarFactory</td>
</tr>
<tr>
<td><strong>Car/Engine/Tyre</strong></td>
<td>Product interfaces</td>
<td>None</td>
</tr>
<tr>
<td><strong>Economy/Luxury variants</strong></td>
<td>Concrete products for each family</td>
<td>Implement product interfaces</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-8">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Abstract Factory</strong>: Interface with methods for
each product</li>
<li><strong>Create Product Interfaces</strong>: <code>Car</code>,
<code>Engine</code>, <code>Tyre</code></li>
<li><strong>Create Concrete Products</strong>: Economy and Luxury
variants</li>
<li><strong>Create Concrete Factories</strong>: Each factory creates its
family</li>
<li><strong>Ensure Consistency</strong>: Factory ensures related
products are from same family</li>
<li><strong>Client Code</strong>: Use factory interface only, don’t know
concrete classes</li>
</ol>
<hr />
<h2 id="abstractfactorydesignpattern">abstractFactoryDesignPattern</h2>
<hr />
<h2 id="builderpattern">builderPattern</h2>
<h3 id="overview-readme.md-9">Overview (README.md)</h3>
<h1 id="builder-pattern">Builder Pattern</h1>
<h2 id="what-is-it-9">What is it?</h2>
<p>The Builder pattern separates the construction of a complex object
from its representation, allowing the same construction process to
create different representations.</p>
<h2 id="when-to-use-it-9">When to use it?</h2>
<ul>
<li>Object has many optional parameters</li>
<li>Creating object with many constructor parameters (telescoping
constructors problem)</li>
<li>Want step-by-step construction of complex objects</li>
<li>Object construction is expensive or multi-step</li>
</ul>
<h2 id="real-world-example-9">Real-world Example</h2>
<p><strong>Student Registration</strong>: Build student objects with
many optional fields (name, age, branch, courses). Avoid complex
constructor signatures.</p>
<h2 id="key-benefits-9">Key Benefits</h2>
<p>✓ Clear, fluent API (readable code) ✓ Handles many optional
parameters elegantly ✓ Immutable objects (once built, cannot change) ✓
Single Responsibility: Separate construction from representation ✓
Flexible construction (different representations possible)</p>
<h2 id="key-drawbacks-9">Key Drawbacks</h2>
<p>✗ More classes (builder class needed) ✗ More code required compared
to simple constructors ✗ Slightly more memory overhead ✗ Overkill for
simple objects</p>
<h2 id="easy-analogy-9">Easy Analogy</h2>
<p><strong>Think of it like ordering a custom pizza:</strong> You don’t
say “give me all toppings” or “nothing”. You build it step by step:
“Base → Cheese → Tomato → Pepperoni → Done!”. Finally you get your
customized pizza.</p>
<h2 id="implementation-notes-9">Implementation Notes</h2>
<ul>
<li><strong>Builder</strong>: Nested static class with fluent API</li>
<li>Use method chaining for readability (return this)</li>
<li>Implement build() to create final object</li>
<li>Provide sensible defaults for optional parameters</li>
<li>Constructor should be private to force builder use</li>
<li>Consider immutability after building</li>
<li>Can use lombok <span class="citation"
data-cites="Builder">@Builder</span> annotation for less
boilerplate</li>
</ul>
<h3 id="uml-class-diagram-9">UML / Class Diagram</h3>
<h1 id="builder---class-diagram">Builder - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class Student {
        -name: String
        -age: int
        -branch: String
        -courses: List
        -Student(builder)
    }

    class StudentBuilder {
        -name: String
        -age: int
        -branch: String
        -courses: List
        +setName(String): StudentBuilder
        +setAge(int): StudentBuilder
        +setBranch(String): StudentBuilder
        +addCourse(String): StudentBuilder
        +build(): Student
    }

    Student --&gt; StudentBuilder: created by</code></pre>
<h2 id="class-relationships-9">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Student</strong></td>
<td>Object with multiple optional fields (immutable after building)</td>
<td>Built by StudentBuilder</td>
</tr>
<tr>
<td><strong>StudentBuilder</strong></td>
<td>Builds Student step-by-step with fluent API</td>
<td>Creates Student</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-9">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Product Class</strong>: <code>Student</code> with
private constructor accepting builder</li>
<li><strong>Create Builder Class</strong>: Nested static class with same
fields as product</li>
<li><strong>Implement Fluent Methods</strong>: Each setter returns
<code>this</code> for chaining</li>
<li><strong>Add Defaults</strong>: Provide sensible default values for
optional fields</li>
<li><strong>Implement build()</strong>: Create and return final
product</li>
<li><strong>Usage</strong>:
<code>new StudentBuilder().setName("X").setAge(20).build()</code></li>
<li><strong>Optional</strong>: Use <code>@Builder</code> annotation from
Lombok to auto-generate</li>
</ol>
<hr />
<h2 id="factorypattern">factoryPattern</h2>
<h3 id="overview-readme.md-10">Overview (README.md)</h3>
<h1 id="factory-pattern">Factory Pattern</h1>
<h2 id="what-is-it-10">What is it?</h2>
<p>The Factory pattern provides an interface for creating objects, but
lets subclasses decide which class to instantiate. It creates objects
without specifying the exact classes to create.</p>
<h2 id="when-to-use-it-10">When to use it?</h2>
<ul>
<li>A class can’t anticipate the type of objects it needs to create</li>
<li>Want to delegate object creation to subclasses</li>
<li>Object creation logic is complex and needs to be centralized</li>
<li>Need to decouple object creation from usage</li>
</ul>
<h2 id="real-world-example-10">Real-world Example</h2>
<p><strong>Shape Creation</strong>: Factory creates different shapes
(Circle, Rectangle) based on input type. Client doesn’t need to know
concrete shape classes.</p>
<h2 id="key-benefits-10">Key Benefits</h2>
<p>✓ Decouples client from concrete classes ✓ Centralizes object
creation logic ✓ Easy to add new object types ✓ Follows Open/Closed
Principle ✓ Simplifies client code</p>
<h2 id="key-drawbacks-10">Key Drawbacks</h2>
<p>✗ More classes needed (factory + concrete classes) ✗ Can be overkill
for simple object creation ✗ Indirection makes code harder to follow ✗
Over-abstraction in simple scenarios</p>
<h2 id="easy-analogy-10">Easy Analogy</h2>
<p><strong>Think of it like a car dealership:</strong> You go to the
dealership (Factory) and ask for a “Honda Civic” (type). The dealership
gives you the right car without you worrying how it’s built. You just
know the interface: “it has 4 wheels, can start and stop”.</p>
<h2 id="implementation-notes-10">Implementation Notes</h2>
<ul>
<li><strong>Creator/Factory</strong>: Interface with factory method</li>
<li><strong>ConcreteCreator</strong>: Implements factory method for
specific type</li>
<li><strong>Product</strong>: Interface for created objects</li>
<li><strong>ConcreteProduct</strong>: Concrete implementation</li>
<li>Use enums or string identifiers for object type selection</li>
<li>Can be static method factory instead of inheritance-based</li>
<li>Ensure all created objects conform to product interface</li>
</ul>
<h3 id="uml-class-diagram-10">UML / Class Diagram</h3>
<h1 id="factory-method---class-diagram">Factory Method - Class
Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class Shape {
        &lt;&lt;interface&gt;&gt;
        +draw()
    }

    class Circle {
        +draw()
    }

    class Rectangle {
        +draw()
    }

    class Square {
        +draw()
    }

    class ShapeFactory {
        +getShape(type): Shape
    }

    Shape &lt;|.. Circle
    Shape &lt;|.. Rectangle
    Shape &lt;|.. Square
    ShapeFactory --&gt; Shape: creates</code></pre>
<h2 id="class-relationships-10">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Shape</strong></td>
<td>Product interface</td>
<td>None</td>
</tr>
<tr>
<td><strong>Circle/Rectangle/Square</strong></td>
<td>Concrete products</td>
<td>Implement Shape</td>
</tr>
<tr>
<td><strong>ShapeFactory</strong></td>
<td>Creator - factory method for creating shapes</td>
<td>Returns Shape interface</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-10">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Product Interface</strong>: Define
<code>draw()</code> method</li>
<li><strong>Create Concrete Products</strong>: <code>Circle</code>,
<code>Rectangle</code>, <code>Square</code></li>
<li><strong>Create Factory Class</strong>: Static method
<code>getShape(String type)</code></li>
<li><strong>Implement Factory Logic</strong>: Switch/if-else to create
right shape</li>
<li><strong>Return Interface</strong>: Always return <code>Shape</code>
type, not concrete class</li>
<li><strong>Client Usage</strong>:
<code>Shape shape = ShapeFactory.getShape("circle")</code></li>
<li><strong>Encapsulate Creation</strong>: Client doesn’t know how to
create shapes</li>
</ol>
<hr />
<h2 id="prototypepattern">prototypePattern</h2>
<h3 id="overview-readme.md-11">Overview (README.md)</h3>
<h1 id="prototype-pattern">Prototype Pattern</h1>
<h2 id="what-is-it-11">What is it?</h2>
<p>The Prototype pattern creates new objects by copying an existing
object (prototype) rather than creating from scratch. Useful when object
creation is expensive.</p>
<h2 id="when-to-use-it-11">When to use it?</h2>
<ul>
<li>Object creation is expensive or slow</li>
<li>Need to avoid subclassing for object creation</li>
<li>Want to create clones of objects with different states</li>
<li>Need to decouple object creation from concrete classes</li>
</ul>
<h2 id="real-world-example-11">Real-world Example</h2>
<p><strong>Network Connection Cloning</strong>: Clone existing network
connections (shallow/deep cloning) with different configurations instead
of creating from scratch.</p>
<h2 id="key-benefits-11">Key Benefits</h2>
<p>✓ Faster object creation (copy existing object) ✓ Avoids expensive
initialization ✓ Reduces memory usage in some cases ✓ Decouples client
from concrete classes ✓ Flexible cloning strategies</p>
<h2 id="key-drawbacks-11">Key Drawbacks</h2>
<p>✗ Shallow vs deep cloning complexity ✗ Clone method implementation
required for all classes ✗ Circular references complicate deep cloning ✗
Performance overhead from copying large objects</p>
<h2 id="easy-analogy-11">Easy Analogy</h2>
<p><strong>Think of it like photocopying documents:</strong> You have an
original document → You make a photocopy (shallow clone) → But if the
original has attachments, the copy references the same attachments. With
deep copy, you also copy the attachments.</p>
<h2 id="implementation-notes-11">Implementation Notes</h2>
<ul>
<li>Implement Cloneable interface</li>
<li>Override clone() method to create copy</li>
<li><strong>Shallow Clone</strong>: Only copy reference fields (uses
default clone)</li>
<li><strong>Deep Clone</strong>: Create new instances of referenced
objects</li>
<li>Use copy constructor alternative to clone()</li>
<li>Be careful with mutable fields (may need deep clone)</li>
<li>Handle CloneNotSupportedException</li>
</ul>
<h3 id="uml-class-diagram-11">UML / Class Diagram</h3>
<h1 id="prototype---class-diagram">Prototype - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class Cloneable {
        &lt;&lt;interface&gt;&gt;
        +clone(): Object
    }

    class NetworkConnection {
        -ip: String
        -port: int
        -connections: List
        +clone(): NetworkConnection
        +shallowClone(): NetworkConnection
        +deepClone(): NetworkConnection
    }

    Cloneable &lt;|.. NetworkConnection</code></pre>
<h2 id="class-relationships-11">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Cloneable</strong></td>
<td>Interface for cloneable objects</td>
<td>None</td>
</tr>
<tr>
<td><strong>NetworkConnection</strong></td>
<td>Implements cloning - supports both shallow and deep</td>
<td>Implements Cloneable</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-11">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Implement Cloneable</strong>: Make class implement
<code>Cloneable</code> interface</li>
<li><strong>Override clone()</strong>: Create and return copy of
object</li>
<li><strong>Shallow Clone</strong>: Copy primitive fields, share
reference fields</li>
<li><strong>Deep Clone</strong>: Create new instances of referenced
objects</li>
<li><strong>Handle Arrays/Lists</strong>: Create new list and add cloned
elements</li>
<li><strong>Catch Exception</strong>: Catch
<code>CloneNotSupportedException</code> in implementation</li>
<li><strong>Usage</strong>:
<code>NetworkConnection copy = original.clone()</code></li>
<li><strong>Alternative</strong>: Use copy constructor instead of
<code>clone()</code></li>
</ol>
<hr />
<h2 id="singletondesignpattern">singletonDesignPattern</h2>
<h3 id="overview-readme.md-12">Overview (README.md)</h3>
<h1 id="singleton-pattern">Singleton Pattern</h1>
<h2 id="what-is-it-12">What is it?</h2>
<p>The Singleton pattern restricts the instantiation of a class to a
single object and provides a global point of access to that
instance.</p>
<h2 id="when-to-use-it-12">When to use it?</h2>
<ul>
<li>Only one instance of a class should exist (e.g., database
connection, logger)</li>
<li>Need global access to the instance</li>
<li>Ensure instance is created only once</li>
<li>Control access to shared resource</li>
</ul>
<h2 id="real-world-example-12">Real-world Example</h2>
<p><strong>Database Connection</strong>: Only one DB connection instance
should exist for the entire application. Singleton ensures single
instance and global access.</p>
<h2 id="key-benefits-12">Key Benefits</h2>
<p>✓ Ensures single instance ✓ Global point of access ✓ Lazy
initialization possible ✓ Thread-safe implementation available ✓
Prevents multiple instantiation</p>
<h2 id="key-drawbacks-12">Key Drawbacks</h2>
<p>✗ Difficult to test (global state) ✗ Hidden dependencies (singleton
dependency not clear) ✗ Violates Single Responsibility Principle ✗ Not
thread-safe in all implementations ✗ Makes code less flexible</p>
<h2 id="easy-analogy-12">Easy Analogy</h2>
<p><strong>Think of it like a country’s president:</strong> There’s only
ONE president at a time. When you need to talk to the president, you ask
for “the president” not “create a new president”. Everyone gets the same
president instance.</p>
<h2 id="implementation-notes-12">Implementation Notes</h2>
<ul>
<li>Private constructor to prevent instantiation</li>
<li>Static instance variable</li>
<li>Public static getInstance() method</li>
<li><strong>Eager Initialization</strong>: Create instance at class
loading</li>
<li><strong>Lazy Initialization</strong>: Create instance on first
access</li>
<li><strong>Thread-safe</strong>: Use synchronized block or
double-checked locking</li>
<li>Consider using Enums for thread-safe singleton</li>
<li>Implement Serializable/Cloneable carefully to maintain
singleton</li>
</ul>
<h3 id="uml-class-diagram-12">UML / Class Diagram</h3>
<h1 id="singleton---class-diagram">Singleton - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class DBConnection {
        -instance: DBConnection static
        -DBConnection() private
        +getInstance(): DBConnection static
        +executeQuery(String)
    }</code></pre>
<h2 id="class-relationships-12">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DBConnection</strong></td>
<td>Singleton - only one instance, global access</td>
<td>Self-manages instance</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-12">How to Code This Pattern</h2>
<h3 id="eager-initialization-thread-safe">Eager Initialization
(Thread-Safe)</h3>
<div class="sourceCode" id="cb14"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DBConnection <span class="op">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> DBConnection instance <span class="op">=</span> <span class="kw">new</span> <span class="fu">DBConnection</span><span class="op">();</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="fu">DBConnection</span><span class="op">()</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> DBConnection <span class="fu">getInstance</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> instance<span class="op">;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="lazy-initialization-thread-safe">Lazy Initialization
(Thread-Safe)</h3>
<div class="sourceCode" id="cb15"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DBConnection <span class="op">{</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">static</span> DBConnection instance<span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="fu">DBConnection</span><span class="op">()</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="kw">synchronized</span> DBConnection <span class="fu">getInstance</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>instance <span class="op">==</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>            instance <span class="op">=</span> <span class="kw">new</span> <span class="fu">DBConnection</span><span class="op">();</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> instance<span class="op">;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="double-checked-locking">Double-Checked Locking</h3>
<div class="sourceCode" id="cb16"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> DBConnection <span class="op">{</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="dt">static</span> <span class="kw">volatile</span> DBConnection instance<span class="op">;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="fu">DBConnection</span><span class="op">()</span> <span class="op">{</span> <span class="op">}</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> DBConnection <span class="fu">getInstance</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>instance <span class="op">==</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>            <span class="kw">synchronized</span><span class="op">(</span>DBConnection<span class="op">.</span><span class="fu">class</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>instance <span class="op">==</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                    instance <span class="op">=</span> <span class="kw">new</span> <span class="fu">DBConnection</span><span class="op">();</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> instance<span class="op">;</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="key-points">Key Points</h2>
<ul>
<li><strong>Private Constructor</strong>: Prevent instantiation from
outside</li>
<li><strong>Static Instance</strong>: Hold single instance</li>
<li><strong>getInstance()</strong>: Return the singleton instance</li>
<li><strong>Thread-Safe</strong>: Use synchronized or volatile for
concurrency</li>
<li><strong>Enum Alternative</strong>: Use enum for automatic
singleton</li>
</ul>
<hr />
<h2 id="adapterdesignpattern">AdapterDesignPattern</h2>
<h3 id="overview-readme.md-13">Overview (README.md)</h3>
<h1 id="adapter-pattern">Adapter Pattern</h1>
<h2 id="what-is-it-13">What is it?</h2>
<p>The Adapter pattern converts the interface of a class into another
interface clients expect. It allows incompatible objects to
collaborate.</p>
<h2 id="when-to-use-it-13">When to use it?</h2>
<ul>
<li>Have incompatible interfaces that need to work together</li>
<li>Integrate third-party libraries with different interfaces</li>
<li>Want to reuse existing class with incompatible interface</li>
<li>Create bridge between old and new code</li>
</ul>
<h2 id="real-world-example-13">Real-world Example</h2>
<p><strong>Weight Machine Adapter</strong>: Weight machine returns
weight in different formats. Adapter converts to pounds/kg format that
clients expect.</p>
<h2 id="key-benefits-13">Key Benefits</h2>
<p>✓ Allows collaboration between incompatible objects ✓ Improves code
reusability ✓ Follows Single Responsibility Principle ✓ Follows
Open/Closed Principle ✓ Helps integrate legacy code</p>
<h2 id="key-drawbacks-13">Key Drawbacks</h2>
<p>✗ Added complexity with extra adapter class ✗ Can hide design
problems in original interfaces ✗ May reduce performance due to
indirection ✗ Overkill for simple interface changes</p>
<h2 id="easy-analogy-13">Easy Analogy</h2>
<p><strong>Think of it like an electrical adapter:</strong> You have a
device (WeightMachine) that outputs in kg, but your client needs it in
pounds. The adapter converts kg to pounds without changing the original
device.</p>
<h2 id="implementation-notes-13">Implementation Notes</h2>
<ul>
<li><strong>Target</strong>: Interface clients expect</li>
<li><strong>Adaptee</strong>: Existing interface that needs
adaptation</li>
<li><strong>Adapter</strong>: Converts adaptee interface to target
interface</li>
<li><strong>Two types</strong>: Class adapter (inheritance) and object
adapter (composition)</li>
<li>Object adapter is preferred (more flexible)</li>
<li>Keep adapter simple (avoid complex logic)</li>
<li>Consider whether modification of adaptee is possible</li>
</ul>
<h3 id="uml-class-diagram-13">UML / Class Diagram</h3>
<h1 id="adapter---class-diagram">Adapter - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class WeightMachine {
        +getWeight(): double
    }

    class WeightMachineAdapter {
        &lt;&lt;interface&gt;&gt;
        +getWeightInPounds(): double
    }

    class WeightMachineAdapterImpl {
        -weightMachine: WeightMachine
        +getWeightInPounds(): double
    }

    WeightMachine --|&gt; WeightMachineAdapterImpl: adapted by
    WeightMachineAdapter &lt;|.. WeightMachineAdapterImpl: implements</code></pre>
<h2 id="class-relationships-13">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>WeightMachine</strong></td>
<td>Adaptee - existing class with incompatible interface</td>
<td>None</td>
</tr>
<tr>
<td><strong>WeightMachineAdapter</strong></td>
<td>Target interface - interface client expects</td>
<td>None</td>
</tr>
<tr>
<td><strong>WeightMachineAdapterImpl</strong></td>
<td>Adapter - converts adaptee to target interface</td>
<td>Has WeightMachine, implements Adapter</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-13">How to Code This Pattern</h2>
<h3 id="object-adapter-composition---recommended">Object Adapter
(Composition - Recommended)</h3>
<div class="sourceCode" id="cb18"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> WeightMachineAdapterImpl <span class="kw">implements</span> WeightMachineAdapter <span class="op">{</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> WeightMachine weightMachine<span class="op">;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">WeightMachineAdapterImpl</span><span class="op">(</span>WeightMachine wm<span class="op">)</span> <span class="op">{</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>        # Adapter <span class="op">-</span> <span class="bu">Class</span> Diagram</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>        ```mermaid</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        classDiagram</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">class</span> WeightMachine <span class="op">{</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span><span class="fu">getWeight</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>            <span class="kw">class</span> WeightReader <span class="op">{</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">&lt;&lt;</span><span class="kw">interface</span><span class="op">&gt;&gt;</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span><span class="fu">getWeightInPounds</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>            <span class="kw">class</span> WeightMachineAdapterImpl <span class="op">{</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>                <span class="op">-</span>weightMachine<span class="op">:</span> WeightMachine</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span><span class="fu">WeightMachineAdapterImpl</span><span class="op">(</span>wm<span class="op">:</span> WeightMachine<span class="op">)</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span><span class="fu">getWeightInPounds</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>            <span class="op">%%</span> Relationships</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>            WeightMachineAdapterImpl <span class="op">--&gt;</span> WeightMachine <span class="op">:</span> uses</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>            WeightReader <span class="op">&lt;|..</span> <span class="fu">WeightMachineAdapterImpl</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>        ```</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>        ## <span class="bu">Class</span> Relationships</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>        <span class="op">|</span> <span class="bu">Class</span> <span class="op">|</span> Responsibility <span class="op">|</span> Depends On <span class="op">|</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>        <span class="op">|-------|---|---|</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">|</span> <span class="op">**</span>WeightMachine<span class="op">**</span> <span class="op">|</span> Adaptee — existing <span class="kw">class</span> providing weight in its own units <span class="op">|</span> None <span class="op">|</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>        <span class="op">|</span> <span class="op">**</span>WeightReader<span class="op">**</span> <span class="op">|</span> <span class="bu">Target</span> <span class="kw">interface</span> — what clients <span class="fu">expect</span> <span class="op">(</span>weight in pounds<span class="op">)</span> <span class="op">|</span> None <span class="op">|</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">|</span> <span class="op">**</span>WeightMachineAdapterImpl<span class="op">**</span> <span class="op">|</span> <span class="fu">Adapter</span> <span class="op">(</span>object adapter<span class="op">)</span> — converts WeightMachine to WeightReader <span class="op">|</span> Uses `WeightMachine`<span class="op">,</span> <span class="kw">implements</span> `WeightReader` <span class="op">|</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>        ## Plain Explanation</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>        The client expects `WeightReader` <span class="op">(</span>method `<span class="fu">getWeightInPounds</span><span class="op">()</span>`<span class="op">),</span> but `WeightMachine` only provides `<span class="fu">getWeight</span><span class="op">()</span>`<span class="op">.</span> <span class="fu">The</span> <span class="fu">adapter</span> <span class="op">(</span>`WeightMachineAdapterImpl`<span class="op">)</span> holds a `WeightMachine` and converts its result into the expected format<span class="op">.</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>        ## How to Code This <span class="bu">Pattern</span> <span class="op">(</span>Minimal<span class="op">)</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>        ### <span class="bu">Object</span> <span class="fu">Adapter</span> <span class="op">(</span>Composition — recommended<span class="op">)</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a>        ```java</span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Target</span></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">interface</span> WeightReader <span class="op">{</span></span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>            <span class="dt">double</span> <span class="fu">getWeightInPounds</span><span class="op">();</span></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Adaptee</span></span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">class</span> WeightMachine <span class="op">{</span></span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a>            <span class="kw">public</span> <span class="dt">double</span> <span class="fu">getWeight</span><span class="op">()</span> <span class="op">{</span> <span class="cf">return</span> <span class="fl">50.0</span><span class="op">;</span> <span class="co">/* kg */</span> <span class="op">}</span></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Adapter</span></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">class</span> WeightMachineAdapterImpl <span class="kw">implements</span> WeightReader <span class="op">{</span></span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a>            <span class="kw">private</span> <span class="dt">final</span> WeightMachine weightMachine<span class="op">;</span></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a>            <span class="kw">public</span> <span class="fu">WeightMachineAdapterImpl</span><span class="op">(</span>WeightMachine wm<span class="op">)</span> <span class="op">{</span> <span class="kw">this</span><span class="op">.</span><span class="fu">weightMachine</span> <span class="op">=</span> wm<span class="op">;</span> <span class="op">}</span></span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a>            <span class="at">@Override</span></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a>            <span class="kw">public</span> <span class="dt">double</span> <span class="fu">getWeightInPounds</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> weightMachine<span class="op">.</span><span class="fu">getWeight</span><span class="op">()</span> <span class="op">*</span> <span class="fl">2.20462</span><span class="op">;</span> <span class="co">// kg -&gt; lb</span></span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a>        ```</span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a>        ### <span class="bu">Class</span> <span class="fu">Adapter</span> <span class="op">(</span>Inheritance — less flexible<span class="op">)</span></span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a>        ```java</span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a>        <span class="kw">public</span> <span class="kw">class</span> WeightMachineAdapter <span class="kw">extends</span> WeightMachine <span class="kw">implements</span> WeightReader <span class="op">{</span></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a>            <span class="at">@Override</span></span>
<span id="cb18-73"><a href="#cb18-73" aria-hidden="true" tabindex="-1"></a>            <span class="kw">public</span> <span class="dt">double</span> <span class="fu">getWeightInPounds</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb18-74"><a href="#cb18-74" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="fu">getWeight</span><span class="op">()</span> <span class="op">*</span> <span class="fl">2.20462</span><span class="op">;</span></span>
<span id="cb18-75"><a href="#cb18-75" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb18-76"><a href="#cb18-76" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb18-77"><a href="#cb18-77" aria-hidden="true" tabindex="-1"></a>        ```</span>
<span id="cb18-78"><a href="#cb18-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-79"><a href="#cb18-79" aria-hidden="true" tabindex="-1"></a>        ## <span class="bu">Key</span> Points</span>
<span id="cb18-80"><a href="#cb18-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-81"><a href="#cb18-81" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span> Use object <span class="fu">adapter</span> <span class="op">(</span>composition<span class="op">)</span> when you can<span class="op">:</span> it works with <span class="dt">final</span><span class="op">/</span>adapted classes and is more flexible<span class="op">.</span></span>
<span id="cb18-82"><a href="#cb18-82" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span> Use <span class="kw">class</span> <span class="fu">adapter</span> <span class="op">(</span>inheritance<span class="op">)</span> only when you must inherit and the adaptee<span class="er">&#39;</span>s <span class="kw">interface</span> is compatible with inheritance<span class="op">.</span></span>
<span id="cb18-83"><a href="#cb18-83" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span> Adapter focuses on converting interfaces<span class="op">,</span> not changing behaviour<span class="op">.</span></span>
<span id="cb18-84"><a href="#cb18-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-85"><a href="#cb18-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-86"><a href="#cb18-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-87"><a href="#cb18-87" aria-hidden="true" tabindex="-1"></a><span class="op">---</span></span>
<span id="cb18-88"><a href="#cb18-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-89"><a href="#cb18-89" aria-hidden="true" tabindex="-1"></a>## DecoratorDesign</span>
<span id="cb18-90"><a href="#cb18-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-91"><a href="#cb18-91" aria-hidden="true" tabindex="-1"></a>### <span class="fu">Overview</span> <span class="op">(</span>README<span class="op">.</span><span class="fu">md</span><span class="op">)</span></span>
<span id="cb18-92"><a href="#cb18-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-93"><a href="#cb18-93" aria-hidden="true" tabindex="-1"></a># Decorator <span class="bu">Pattern</span></span>
<span id="cb18-94"><a href="#cb18-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-95"><a href="#cb18-95" aria-hidden="true" tabindex="-1"></a>## What is it<span class="op">?</span></span>
<span id="cb18-96"><a href="#cb18-96" aria-hidden="true" tabindex="-1"></a>The Decorator pattern attaches additional responsibilities to an object dynamically<span class="op">.</span> <span class="fu">It</span> provides a flexible alternative to subclassing <span class="cf">for</span> extending functionality<span class="op">.</span></span>
<span id="cb18-97"><a href="#cb18-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-98"><a href="#cb18-98" aria-hidden="true" tabindex="-1"></a>## When to use it<span class="op">?</span></span>
<span id="cb18-99"><a href="#cb18-99" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Add responsibilities to individual objects without affecting others</span>
<span id="cb18-100"><a href="#cb18-100" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Subclassing would create too many classes</span>
<span id="cb18-101"><a href="#cb18-101" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Need to combine multiple behaviors dynamically</span>
<span id="cb18-102"><a href="#cb18-102" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Avoid <span class="st">&quot;explosion&quot;</span> of subclasses</span>
<span id="cb18-103"><a href="#cb18-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-104"><a href="#cb18-104" aria-hidden="true" tabindex="-1"></a>## Real<span class="op">-</span>world Example</span>
<span id="cb18-105"><a href="#cb18-105" aria-hidden="true" tabindex="-1"></a><span class="op">**</span>Ice Cream Shop<span class="op">**:</span> Base ice <span class="fu">cream</span> <span class="op">(</span>Vanilla<span class="op">,</span> Chocolate<span class="op">)</span> can be decorated with <span class="fu">toppings</span> <span class="op">(</span>ChocolateSyrup<span class="op">,</span> ChocoChips<span class="op">).</span> <span class="fu">Each</span> decorator adds features<span class="op">.</span></span>
<span id="cb18-106"><a href="#cb18-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-107"><a href="#cb18-107" aria-hidden="true" tabindex="-1"></a>## <span class="bu">Key</span> Benefits</span>
<span id="cb18-108"><a href="#cb18-108" aria-hidden="true" tabindex="-1"></a>✓ More flexible than subclassing</span>
<span id="cb18-109"><a href="#cb18-109" aria-hidden="true" tabindex="-1"></a>✓ Add<span class="op">/</span>remove responsibilities at runtime</span>
<span id="cb18-110"><a href="#cb18-110" aria-hidden="true" tabindex="-1"></a>✓ Combine behaviors dynamically</span>
<span id="cb18-111"><a href="#cb18-111" aria-hidden="true" tabindex="-1"></a>✓ Single Responsibility<span class="op">:</span> Each decorator has one responsibility</span>
<span id="cb18-112"><a href="#cb18-112" aria-hidden="true" tabindex="-1"></a>✓ Avoids subclass explosion</span>
<span id="cb18-113"><a href="#cb18-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-114"><a href="#cb18-114" aria-hidden="true" tabindex="-1"></a>## <span class="bu">Key</span> Drawbacks</span>
<span id="cb18-115"><a href="#cb18-115" aria-hidden="true" tabindex="-1"></a>✗ Many small <span class="fu">classes</span> <span class="op">(</span>decorators<span class="op">)</span></span>
<span id="cb18-116"><a href="#cb18-116" aria-hidden="true" tabindex="-1"></a>✗ Complex object composition</span>
<span id="cb18-117"><a href="#cb18-117" aria-hidden="true" tabindex="-1"></a>✗ Decoration order <span class="fu">matters</span> <span class="op">(</span>may affect functionality<span class="op">)</span></span>
<span id="cb18-118"><a href="#cb18-118" aria-hidden="true" tabindex="-1"></a>✗ Can be overkill <span class="cf">for</span> simple additions</span>
<span id="cb18-119"><a href="#cb18-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-120"><a href="#cb18-120" aria-hidden="true" tabindex="-1"></a>## Easy Analogy</span>
<span id="cb18-121"><a href="#cb18-121" aria-hidden="true" tabindex="-1"></a><span class="op">**</span>Think of it like customizing a shirt<span class="op">:**</span></span>
<span id="cb18-122"><a href="#cb18-122" aria-hidden="true" tabindex="-1"></a>Basic shirt → Add <span class="fu">sleeves</span> <span class="op">(</span>decorator<span class="op">)</span> → Add <span class="fu">buttons</span> <span class="op">(</span>another decorator<span class="op">)</span> → Add <span class="fu">collar</span> <span class="op">(</span>another decorator<span class="op">).</span> <span class="fu">Each</span> decorator adds functionality without changing the original shirt<span class="op">.</span></span>
<span id="cb18-123"><a href="#cb18-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-124"><a href="#cb18-124" aria-hidden="true" tabindex="-1"></a>## Implementation Notes</span>
<span id="cb18-125"><a href="#cb18-125" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> <span class="op">**</span><span class="bu">Component</span><span class="op">**:</span> Interface <span class="cf">for</span> decorators and concrete objects</span>
<span id="cb18-126"><a href="#cb18-126" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> <span class="op">**</span>ConcreteComponent<span class="op">**:</span> Original object being decorated</span>
<span id="cb18-127"><a href="#cb18-127" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> <span class="op">**</span>Decorator<span class="op">**:</span> Abstract <span class="kw">class</span> maintaining reference to component</span>
<span id="cb18-128"><a href="#cb18-128" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> <span class="op">**</span>ConcreteDecorator<span class="op">**:</span> Adds specific responsibility</span>
<span id="cb18-129"><a href="#cb18-129" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Decorator wraps component and delegates calls</span>
<span id="cb18-130"><a href="#cb18-130" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Can wrap decorator with another decorator</span>
<span id="cb18-131"><a href="#cb18-131" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Maintain same <span class="kw">interface</span> as component</span>
<span id="cb18-132"><a href="#cb18-132" aria-hidden="true" tabindex="-1"></a><span class="op">-</span> Watch order of <span class="fu">decoration</span> <span class="op">(</span>may affect results<span class="op">)</span></span>
<span id="cb18-133"><a href="#cb18-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-134"><a href="#cb18-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-135"><a href="#cb18-135" aria-hidden="true" tabindex="-1"></a>### UML <span class="op">/</span> <span class="bu">Class</span> Diagram</span>
<span id="cb18-136"><a href="#cb18-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-137"><a href="#cb18-137" aria-hidden="true" tabindex="-1"></a># Decorator <span class="op">-</span> <span class="bu">Class</span> Diagram</span>
<span id="cb18-138"><a href="#cb18-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-139"><a href="#cb18-139" aria-hidden="true" tabindex="-1"></a>```mermaid</span>
<span id="cb18-140"><a href="#cb18-140" aria-hidden="true" tabindex="-1"></a>classDiagram</span>
<span id="cb18-141"><a href="#cb18-141" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> IceCream <span class="op">{</span></span>
<span id="cb18-142"><a href="#cb18-142" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;&lt;</span><span class="kw">interface</span><span class="op">&gt;&gt;</span></span>
<span id="cb18-143"><a href="#cb18-143" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getCost</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-144"><a href="#cb18-144" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getDescription</span><span class="op">():</span> <span class="bu">String</span></span>
<span id="cb18-145"><a href="#cb18-145" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb18-146"><a href="#cb18-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-147"><a href="#cb18-147" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> VanillaIceCream <span class="op">{</span></span>
<span id="cb18-148"><a href="#cb18-148" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getCost</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-149"><a href="#cb18-149" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getDescription</span><span class="op">():</span> <span class="bu">String</span></span>
<span id="cb18-150"><a href="#cb18-150" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb18-151"><a href="#cb18-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-152"><a href="#cb18-152" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> IceCreamDecorator <span class="op">{</span></span>
<span id="cb18-153"><a href="#cb18-153" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;&lt;</span><span class="kw">abstract</span><span class="op">&gt;&gt;</span></span>
<span id="cb18-154"><a href="#cb18-154" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span>iceCream<span class="op">:</span> IceCream</span>
<span id="cb18-155"><a href="#cb18-155" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getCost</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-156"><a href="#cb18-156" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getDescription</span><span class="op">():</span> <span class="bu">String</span></span>
<span id="cb18-157"><a href="#cb18-157" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb18-158"><a href="#cb18-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-159"><a href="#cb18-159" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> ChocolateSyrupDecorator <span class="op">{</span></span>
<span id="cb18-160"><a href="#cb18-160" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getCost</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-161"><a href="#cb18-161" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getDescription</span><span class="op">():</span> <span class="bu">String</span></span>
<span id="cb18-162"><a href="#cb18-162" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb18-163"><a href="#cb18-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-164"><a href="#cb18-164" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> ChocoChipsDecorator <span class="op">{</span></span>
<span id="cb18-165"><a href="#cb18-165" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getCost</span><span class="op">():</span> <span class="dt">double</span></span>
<span id="cb18-166"><a href="#cb18-166" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span><span class="fu">getDescription</span><span class="op">():</span> <span class="bu">String</span></span>
<span id="cb18-167"><a href="#cb18-167" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb18-168"><a href="#cb18-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-169"><a href="#cb18-169" aria-hidden="true" tabindex="-1"></a>    IceCream <span class="op">&lt;|..</span> <span class="fu">VanillaIceCream</span></span>
<span id="cb18-170"><a href="#cb18-170" aria-hidden="true" tabindex="-1"></a>    IceCream <span class="op">&lt;|..</span> <span class="fu">IceCreamDecorator</span></span>
<span id="cb18-171"><a href="#cb18-171" aria-hidden="true" tabindex="-1"></a>    IceCreamDecorator <span class="op">&lt;|--</span> ChocolateSyrupDecorator</span>
<span id="cb18-172"><a href="#cb18-172" aria-hidden="true" tabindex="-1"></a>    IceCreamDecorator <span class="op">&lt;|--</span> ChocoChipsDecorator</span>
<span id="cb18-173"><a href="#cb18-173" aria-hidden="true" tabindex="-1"></a>    IceCreamDecorator <span class="op">--&gt;</span> IceCream<span class="op">:</span> wraps</span></code></pre></div>
<h2 id="class-relationships-14">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>IceCream</strong></td>
<td>Component interface - defines ice cream operations</td>
<td>None</td>
</tr>
<tr>
<td><strong>VanillaIceCream</strong></td>
<td>Concrete component - base ice cream</td>
<td>Implements IceCream</td>
</tr>
<tr>
<td><strong>IceCreamDecorator</strong></td>
<td>Abstract decorator - wraps ice cream and adds features</td>
<td>Has IceCream, implements IceCream</td>
</tr>
<tr>
<td><strong>ChocolateSyrupDecorator</strong></td>
<td>Concrete decorator - adds chocolate syrup</td>
<td>Extends IceCreamDecorator</td>
</tr>
<tr>
<td><strong>ChocoChipsDecorator</strong></td>
<td>Concrete decorator - adds choco chips</td>
<td>Extends IceCreamDecorator</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-14">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Component Interface</strong>: <code>IceCream</code>
with <code>getCost()</code> and <code>getDescription()</code></li>
<li><strong>Create Concrete Component</strong>:
<code>VanillaIceCream</code> implements interface</li>
<li><strong>Create Abstract Decorator</strong>: Implements interface,
wraps component</li>
<li><strong>Decorator holds Component</strong>:
<code>IceCreamDecorator</code> has <code>IceCream</code> reference</li>
<li><strong>Decorator delegates</strong>: Call wrapped component’s
methods first, then add own behavior</li>
<li><strong>Create Concrete Decorators</strong>: Each adds specific
feature</li>
<li><strong>Stack Decorators</strong>: Can wrap decorator with another
decorator</li>
</ol>
<h2 id="example-usage">Example Usage</h2>
<div class="sourceCode" id="cb19"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>IceCream iceCream <span class="op">=</span> <span class="kw">new</span> <span class="fu">VanillaIceCream</span><span class="op">();</span>  <span class="co">// cost: 30</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>iceCream <span class="op">=</span> <span class="kw">new</span> <span class="fu">ChocolateSyrupDecorator</span><span class="op">(</span>iceCream<span class="op">);</span>  <span class="co">// cost: 30 + 15 = 45</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>iceCream <span class="op">=</span> <span class="kw">new</span> <span class="fu">ChocoChipsDecorator</span><span class="op">(</span>iceCream<span class="op">);</span>  <span class="co">// cost: 45 + 10 = 55</span></span></code></pre></div>
<h2 id="key-points-1">Key Points</h2>
<ul>
<li><strong>Wrapper Pattern</strong>: Decorators wrap components</li>
<li><strong>Same Interface</strong>: Decorator implements same interface
as component</li>
<li><strong>Recursive Composition</strong>: Can nest decorators</li>
<li><strong>Runtime Addition</strong>: Add features at runtime</li>
</ul>
<hr />
<h2 id="proxypattern">ProxyPattern</h2>
<h3 id="overview-readme.md-14">Overview (README.md)</h3>
<h1 id="proxy-pattern">Proxy Pattern</h1>
<h2 id="what-is-it-14">What is it?</h2>
<p>The Proxy pattern provides a surrogate or placeholder for another
object to control access to it. Proxy acts on behalf of the real
object.</p>
<h2 id="when-to-use-it-14">When to use it?</h2>
<ul>
<li>Defer expensive object creation (lazy initialization)</li>
<li>Control access to sensitive objects</li>
<li>Log access to objects</li>
<li>Cache results of expensive operations</li>
<li>Restrict operations on objects</li>
</ul>
<h2 id="real-world-example-14">Real-world Example</h2>
<p><strong>Employee Data Cache Proxy</strong>: Real expensive employee
data fetches from DB. Proxy caches data in Redis, returning cached
results when available.</p>
<h2 id="key-benefits-14">Key Benefits</h2>
<p>✓ Control access to objects ✓ Lazy initialization (create object only
when needed) ✓ Add logging/caching without modifying original ✓ Follows
Single Responsibility Principle ✓ Transparent to client code</p>
<h2 id="key-drawbacks-14">Key Drawbacks</h2>
<p>✗ Added complexity with extra proxy class ✗ Performance overhead from
proxy indirection ✗ Response time slightly increased ✗ Overkill for
simple objects</p>
<h2 id="easy-analogy-14">Easy Analogy</h2>
<p><strong>Think of it like a personal assistant:</strong> You (Real
Subject) are busy. Your assistant (Proxy) handles your calls → If
someone asks your salary, assistant checks notes (cache) → If not there,
asks you. No one directly bothers you.</p>
<h2 id="implementation-notes-14">Implementation Notes</h2>
<ul>
<li><strong>Subject</strong>: Interface for proxy and real object</li>
<li><strong>RealSubject</strong>: Actual object being proxied</li>
<li><strong>Proxy</strong>: Manages access to real subject</li>
<li>Proxy implements same interface as subject</li>
<li>Can control access, cache, or defer creation</li>
<li><strong>Types</strong>: Protection proxy, virtual proxy, cache
proxy, remote proxy</li>
<li>Maintain reference to real subject</li>
<li>Delegate calls to real subject after proxy logic</li>
</ul>
<h3 id="uml-class-diagram-14">UML / Class Diagram</h3>
<h1 id="proxy---class-diagram">Proxy - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class Employee {
        &lt;&lt;interface&gt;&gt;
        +getSalary(): int
        +getName(): String
    }

    class EmployeeImpl {
        -name: String
        -salary: int
        +getSalary(): int
        +getName(): String
    }

    class EmployeeCacheProxy {
        -employee: Employee
        -cachedData: Map~String,Object~
        +getSalary(): int
        +getName(): String
        -fetchFromDB(): void
    }

    class RedisCacheClient {
        +get(key): Object
        +set(key, value): void
    }

    Employee &lt;|.. EmployeeImpl
    Employee &lt;|.. EmployeeCacheProxy
    EmployeeCacheProxy --&gt; EmployeeImpl: delegates to
    EmployeeCacheProxy --&gt; RedisCacheClient: uses for caching</code></pre>
<h2 id="class-relationships-15">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Employee</strong></td>
<td>Subject interface - defines operations</td>
<td>None</td>
</tr>
<tr>
<td><strong>EmployeeImpl</strong></td>
<td>Real subject - actual expensive object</td>
<td>Implements Employee</td>
</tr>
<tr>
<td><strong>EmployeeCacheProxy</strong></td>
<td>Proxy - controls access, adds caching</td>
<td>Has Employee, uses cache</td>
</tr>
<tr>
<td><strong>RedisCacheClient</strong></td>
<td>External cache - stores cached data</td>
<td>None</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-15">How to Code This Pattern</h2>
<ol type="1">
<li><p><strong>Create Subject Interface</strong>: <code>Employee</code>
with <code>getSalary()</code>, <code>getName()</code></p></li>
<li><p><strong>Create Real Subject</strong>: <code>EmployeeImpl</code>
does expensive DB operations</p></li>
<li><p><strong>Create Proxy</strong>: Implements same interface</p></li>
</ol>
<div class="sourceCode" id="cb21"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> EmployeeCacheProxy <span class="kw">implements</span> Employee <span class="op">{</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> Employee employee<span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> <span class="bu">Object</span><span class="op">&gt;</span> cache<span class="op">;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">EmployeeCacheProxy</span><span class="op">(</span>Employee emp<span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">employee</span> <span class="op">=</span> emp<span class="op">;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">cache</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">getSalary</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>cache<span class="op">.</span><span class="fu">containsKey</span><span class="op">(</span><span class="st">&quot;salary&quot;</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="op">(</span><span class="dt">int</span><span class="op">)</span> cache<span class="op">.</span><span class="fu">get</span><span class="op">(</span><span class="st">&quot;salary&quot;</span><span class="op">);</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> salary <span class="op">=</span> employee<span class="op">.</span><span class="fu">getSalary</span><span class="op">();</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>        cache<span class="op">.</span><span class="fu">put</span><span class="op">(</span><span class="st">&quot;salary&quot;</span><span class="op">,</span> salary<span class="op">);</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> salary<span class="op">;</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="4" type="1">
<li><strong>Proxy Controls Access</strong>:
<ul>
<li>Cache before delegating</li>
<li>Lazy load real object</li>
<li>Log/track access</li>
<li>Restrict access</li>
</ul></li>
<li><strong>Client uses Proxy</strong>:
<code>Employee emp = new EmployeeCacheProxy(...)</code></li>
</ol>
<h2 id="proxy-types">Proxy Types</h2>
<table>
<thead>
<tr>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Protection Proxy</strong></td>
<td>Control access (security)</td>
</tr>
<tr>
<td><strong>Virtual Proxy</strong></td>
<td>Lazy initialization of expensive objects</td>
</tr>
<tr>
<td><strong>Cache Proxy</strong></td>
<td>Cache expensive operations</td>
</tr>
<tr>
<td><strong>Remote Proxy</strong></td>
<td>Represent remote object</td>
</tr>
</tbody>
</table>
<h2 id="key-points-2">Key Points</h2>
<ul>
<li><strong>Same Interface</strong>: Proxy implements same interface as
real object</li>
<li><strong>Transparent</strong>: Client doesn’t know it’s using
proxy</li>
<li><strong>Add Behavior</strong>: Before/after delegating to real
object</li>
<li><strong>Control Access</strong>: Decide when and how to
delegate</li>
</ul>
<hr />
<h2 id="bridgepattern">bridgePattern</h2>
<h3 id="overview-readme.md-15">Overview (README.md)</h3>
<h1 id="bridge-pattern">Bridge Pattern</h1>
<h2 id="what-is-it-15">What is it?</h2>
<p>The Bridge pattern decouples an abstraction from its implementation
so that the two can vary independently. It bridges the gap between
abstraction and implementation.</p>
<h2 id="when-to-use-it-15">When to use it?</h2>
<ul>
<li>Abstraction and implementation should be independent</li>
<li>Changes in implementation shouldn’t affect client code</li>
<li>Want to avoid permanent binding between abstraction and
implementation</li>
<li>Multiple implementations for same abstraction</li>
</ul>
<h2 id="real-world-example-15">Real-world Example</h2>
<p><strong>Living Things Breathing</strong>: Different living things
(Dog, Fish, Tree) have different breathing mechanisms (Lungs, Gills,
Photosynthesis). Bridge separates living things from breathing
processes.</p>
<h2 id="key-benefits-15">Key Benefits</h2>
<p>✓ Decouples abstraction from implementation ✓ Implementation can
change without affecting clients ✓ Avoid permanent binding between
abstraction and implementation ✓ Improves code maintainability ✓ Follows
Open/Closed Principle</p>
<h2 id="key-drawbacks-15">Key Drawbacks</h2>
<p>✗ More complex design (more classes needed) ✗ Overkill for simple
hierarchies ✗ Increased indirection affects performance ✗ Can
overcomplicate simple designs</p>
<h2 id="easy-analogy-15">Easy Analogy</h2>
<p><strong>Think of it like a car and its engine types:</strong> A car
is abstraction (LivingThing) → It can be Sedan, SUV (Dog, Fish) → Engine
type is implementation (Breathing) → Can be Petrol, Diesel (Lungs,
Gills). You can mix any car with any engine.</p>
<h2 id="implementation-notes-15">Implementation Notes</h2>
<ul>
<li><strong>Abstraction</strong>: Defines high-level interface</li>
<li><strong>RefinedAbstraction</strong>: Extends abstraction</li>
<li><strong>Implementor</strong>: Defines lower-level interface</li>
<li><strong>ConcreteImplementor</strong>: Implements specific
behavior</li>
<li>Abstraction should contain reference to Implementor</li>
<li>Use composition instead of inheritance</li>
<li>Separate abstraction hierarchy from implementation hierarchy</li>
</ul>
<h3 id="uml-class-diagram-15">UML / Class Diagram</h3>
<h1 id="bridge---class-diagram">Bridge - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class LivingThing {
        -breathingProcess: BreathingProcess
        +breath()
    }

    class Dog {
        +breath()
    }

    class Fish {
        +breath()
    }

    class Tree {
        +breath()
    }

    class BreathingProcess {
        &lt;&lt;interface&gt;&gt;
        +breathe()
    }

    class LungsBreathProcess {
        +breathe()
    }

    class GillBreathingProcess {
        +breathe()
    }

    class PhotoSynthesisProcess {
        +breathe()
    }

    LivingThing &lt;|-- Dog
    LivingThing &lt;|-- Fish
    LivingThing &lt;|-- Tree
    BreathingProcess &lt;|.. LungsBreathProcess
    BreathingProcess &lt;|.. GillBreathingProcess
    BreathingProcess &lt;|.. PhotoSynthesisProcess
    LivingThing --&gt; BreathingProcess: uses</code></pre>
<h2 id="class-relationships-16">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>LivingThing</strong></td>
<td>Abstraction - high-level interface</td>
<td>Uses BreathingProcess</td>
</tr>
<tr>
<td><strong>Dog/Fish/Tree</strong></td>
<td>Refined abstractions</td>
<td>Extend LivingThing</td>
</tr>
<tr>
<td><strong>BreathingProcess</strong></td>
<td>Implementor interface - low-level interface</td>
<td>None</td>
</tr>
<tr>
<td><strong>Lungs/Gill/Photosynthesis</strong></td>
<td>Concrete implementors</td>
<td>Implement BreathingProcess</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-16">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Separate Hierarchies</strong>: Keep abstraction and
implementation in separate hierarchies</li>
<li><strong>Abstraction contains Implementor</strong>:
<code>LivingThing</code> has reference to
<code>BreathingProcess</code></li>
<li><strong>Concrete Abstractions</strong>: <code>Dog</code>,
<code>Fish</code>, <code>Tree</code> extend abstraction</li>
<li><strong>Concrete Implementors</strong>: Implement the implementor
interface</li>
<li><strong>Combine dynamically</strong>: <code>Dog</code> can use any
<code>BreathingProcess</code></li>
<li><strong>Avoid Explosion</strong>: Without bridge, would have
Dog-Lungs, Dog-Gills, etc. classes</li>
</ol>
<h2 id="key-points-3">Key Points</h2>
<ul>
<li><strong>Bridge</strong>: Separate abstraction from
implementation</li>
<li><strong>Two Hierarchies</strong>: One for abstraction, one for
implementation</li>
<li><strong>Composition</strong>: Abstraction uses composition with
implementor</li>
<li><strong>Flexibility</strong>: Change implementation independently
from abstraction</li>
</ul>
<hr />
<h2 id="compositepattern">compositePattern</h2>
<h3 id="overview-readme.md-16">Overview (README.md)</h3>
<h1 id="composite-pattern">Composite Pattern</h1>
<h2 id="what-is-it-16">What is it?</h2>
<p>The Composite pattern composes objects into tree structures to
represent part-whole hierarchies. It allows clients to treat individual
objects and compositions uniformly.</p>
<h2 id="when-to-use-it-16">When to use it?</h2>
<ul>
<li>Represent hierarchical structures (trees)</li>
<li>Clients should treat individual and composite objects the same
way</li>
<li>Part-whole relationships need to be represented</li>
<li>File system or menu structures</li>
</ul>
<h2 id="real-world-example-16">Real-world Example</h2>
<p><strong>File System</strong>: Files and directories form a tree. Both
can have operations like get size, copy. Composite pattern treats them
uniformly.</p>
<h2 id="key-benefits-16">Key Benefits</h2>
<p>✓ Simplifies client code (same treatment for leaf and composite) ✓
Flexible tree structures (easy to add/remove nodes) ✓ Follows Single
Responsibility Principle ✓ Follows Open/Closed Principle ✓ Recursive
composition is natural</p>
<h2 id="key-drawbacks-16">Key Drawbacks</h2>
<p>✗ May force inappropriate operations on leaves ✗ Less type safety
(both leaf and composite look same) ✗ Complexity increases with tree
depth ✗ Performance issues with deep trees</p>
<h2 id="easy-analogy-16">Easy Analogy</h2>
<p><strong>Think of it like a folder structure on your
computer:</strong> Folders contain files and other folders → You can ask
any folder/file “what’s your size?” → A folder calculates size by adding
all children’s sizes. Same operation, different implementations.</p>
<h2 id="implementation-notes-16">Implementation Notes</h2>
<ul>
<li><strong>Component</strong>: Declares common operations</li>
<li><strong>Leaf</strong>: Represents leaf objects (no children)</li>
<li><strong>Composite</strong>: Represents composite objects (has
children)</li>
<li>Composite implements add/remove/get children methods</li>
<li>Both leaf and composite implement component operations</li>
<li>Watch out for inappropriate operations on leaves</li>
<li>Consider empty checks for operations on leaves</li>
</ul>
<h3 id="uml-class-diagram-16">UML / Class Diagram</h3>
<h1 id="composite---class-diagram">Composite - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class FileSystem {
        &lt;&lt;interface&gt;&gt;
        +getSize(): int
    }

    class File {
        -size: int
        +getSize(): int
    }

    class Directory {
        -children: List~FileSystem~
        +add(FileSystem)
        +remove(FileSystem)
        +getChildren(): List
        +getSize(): int
    }

    FileSystem &lt;|.. File
    FileSystem &lt;|.. Directory
    Directory --&gt; FileSystem: contains</code></pre>
<h2 id="class-relationships-17">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>FileSystem</strong></td>
<td>Component interface - defines common operations</td>
<td>None</td>
</tr>
<tr>
<td><strong>File</strong></td>
<td>Leaf - represents file with no children</td>
<td>Implements FileSystem</td>
</tr>
<tr>
<td><strong>Directory</strong></td>
<td>Composite - contains FileSystem objects (files/folders)</td>
<td>Implements FileSystem, contains FileSystem</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-17">How to Code This Pattern</h2>
<ol type="1">
<li><strong>Create Component Interface</strong>: Define
<code>getSize()</code>, <code>add()</code>, <code>remove()</code></li>
<li><strong>Create Leaf Class</strong>: <code>File</code> implements
interface, <code>getSize()</code> returns file size</li>
<li><strong>Create Composite Class</strong>: <code>Directory</code>
implements interface</li>
<li><strong>Maintain Children</strong>: Directory has list of FileSystem
objects</li>
<li><strong>Add/Remove Methods</strong>: Composite implements add() and
remove()</li>
<li><strong>Recursive Operations</strong>:
<code>Directory.getSize()</code> sums all children’s sizes</li>
<li><strong>Uniform Treatment</strong>: Both File and Directory are
treated as FileSystem</li>
</ol>
<h2 id="key-points-4">Key Points</h2>
<ul>
<li><strong>Leaf</strong>: File - no children, performs actual work</li>
<li><strong>Composite</strong>: Directory - can have children</li>
<li><strong>Recursive</strong>: Operations work recursively through
tree</li>
<li><strong>Uniform</strong>: Client treats both File and Directory same
way</li>
</ul>
<hr />
<h2 id="flyweightpattern">flyweightPattern</h2>
<h3 id="overview-readme.md-17">Overview (README.md)</h3>
<h1 id="flyweight-pattern">Flyweight Pattern</h1>
<h2 id="what-is-it-17">What is it?</h2>
<p>The Flyweight pattern uses sharing to support large numbers of
fine-grained objects efficiently by sharing common state between
multiple objects.</p>
<h2 id="when-to-use-it-17">When to use it?</h2>
<ul>
<li>Application uses large number of similar objects</li>
<li>Memory usage is a concern</li>
<li>Intrinsic state can be shared between objects</li>
<li>Many objects with same properties</li>
</ul>
<h2 id="real-world-example-17">Real-world Example</h2>
<p><strong>Robot Game</strong>: Game has thousands of robots. Instead of
creating separate objects, share intrinsic state (sprite type) and keep
extrinsic state (position) separate.</p>
<h2 id="key-benefits-17">Key Benefits</h2>
<p>✓ Significantly reduces memory usage ✓ Improves application
performance ✓ Centralizes management of shared state ✓ Good for
large-scale applications ✓ Transparent to client code</p>
<h2 id="key-drawbacks-17">Key Drawbacks</h2>
<p>✗ Increased complexity in code ✗ Thread-safety concerns (shared
objects) ✗ Performance overhead from object lookup ✗ Intrinsic/extrinsic
state separation not always clear</p>
<h2 id="easy-analogy-17">Easy Analogy</h2>
<p><strong>Think of it like a multiplayer game with 10,000
soldiers:</strong> All soldiers have the same armor type
(shared/intrinsic) but different positions (unique/extrinsic). Instead
of creating 10,000 objects, create 1 shared soldier object, reuse it
with different positions.</p>
<h2 id="implementation-notes-17">Implementation Notes</h2>
<ul>
<li><strong>Flyweight</strong>: Interface for shared and unique
states</li>
<li><strong>ConcreteFlyweight</strong>: Stores intrinsic state
(shared)</li>
<li><strong>FlyweightFactory</strong>: Creates and manages flyweight
objects</li>
<li><strong>Client</strong>: Maintains extrinsic state</li>
<li>Separate intrinsic (shared) from extrinsic (unique) state</li>
<li>Use factory pattern to create/retrieve flyweights</li>
<li>Ensure flyweight objects are immutable</li>
<li>Consider thread-safety for shared objects</li>
<li>Useful when you have thousands of similar objects</li>
</ul>
<h3 id="uml-class-diagram-17">UML / Class Diagram</h3>
<h1 id="flyweight---class-diagram">Flyweight - Class Diagram</h1>
<pre class="mermaid"><code>classDiagram
    class IRobot {
        &lt;&lt;interface&gt;&gt;
        +display(x: int, y: int)
    }

    class HumanoidRobot {
        -sprite: Sprite
        +display(x: int, y: int)
    }

    class RoboticDogImpl {
        -sprite: Sprite
        +display(x: int, y: int)
    }

    class RoboticFactory {
        -robots: Map~String,IRobot~
        +createRobot(type): IRobot
    }

    class Sprite {
        -image: Image
        -animationFrames: List
    }

    IRobot &lt;|.. HumanoidRobot
    IRobot &lt;|.. RoboticDogImpl
    RoboticFactory --&gt; IRobot: creates &amp; manages
    HumanoidRobot --&gt; Sprite: intrinsic (shared)
    RoboticDogImpl --&gt; Sprite: intrinsic (shared)</code></pre>
<h2 id="class-relationships-18">Class Relationships</h2>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 23%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr>
<th>Class</th>
<th>Responsibility</th>
<th>Depends On</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>IRobot</strong></td>
<td>Flyweight interface - defines robot display method</td>
<td>None</td>
</tr>
<tr>
<td><strong>HumanoidRobot/RoboticDogImpl</strong></td>
<td>Concrete flyweights - store intrinsic state (sprite)</td>
<td>Implements IRobot, has shared Sprite</td>
</tr>
<tr>
<td><strong>RoboticFactory</strong></td>
<td>Flyweight factory - creates and caches flyweights</td>
<td>Creates and manages IRobot</td>
</tr>
<tr>
<td><strong>Sprite</strong></td>
<td>Intrinsic state - shared across many robots (immutable)</td>
<td>None</td>
</tr>
</tbody>
</table>
<h2 id="how-to-code-this-pattern-18">How to Code This Pattern</h2>
<ol type="1">
<li><p><strong>Separate Intrinsic/Extrinsic State</strong>:</p>
<ul>
<li><strong>Intrinsic</strong>: Sprite (shared) - stored in
flyweight</li>
<li><strong>Extrinsic</strong>: Position x, y (unique) - passed as
parameter</li>
</ul></li>
<li><p><strong>Create Flyweight Interface</strong>: <code>IRobot</code>
with <code>display(x, y)</code></p></li>
<li><p><strong>Create Concrete Flyweights</strong>: Store only intrinsic
state</p></li>
<li><p><strong>Create Factory</strong>: Cache and reuse
flyweights</p></li>
</ol>
<div class="sourceCode" id="cb25"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> RoboticFactory <span class="op">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> <span class="bu">Map</span><span class="op">&lt;</span><span class="bu">String</span><span class="op">,</span> IRobot<span class="op">&gt;</span> robots <span class="op">=</span> <span class="kw">new</span> <span class="bu">HashMap</span><span class="op">&lt;&gt;();</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> IRobot <span class="fu">createRobot</span><span class="op">(</span><span class="bu">String</span> type<span class="op">)</span> <span class="op">{</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(!</span>robots<span class="op">.</span><span class="fu">containsKey</span><span class="op">(</span>type<span class="op">))</span> <span class="op">{</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>            robots<span class="op">.</span><span class="fu">put</span><span class="op">(</span>type<span class="op">,</span> <span class="kw">new</span> <span class="fu">HumanoidRobot</span><span class="op">(</span><span class="kw">new</span> <span class="fu">Sprite</span><span class="op">(</span><span class="kw">...</span><span class="op">)));</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> robots<span class="op">.</span><span class="fu">get</span><span class="op">(</span>type<span class="op">);</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<ol start="5" type="1">
<li><strong>Client provides extrinsic state</strong>:
<code>robot.display(100, 200)</code></li>
</ol>
<h2 id="key-points-5">Key Points</h2>
<ul>
<li><strong>Shared State</strong>: Intrinsic state shared across many
objects</li>
<li><strong>Unique State</strong>: Extrinsic state kept in client</li>
<li><strong>Memory Optimization</strong>: 10,000 robots, 1 sprite = huge
savings</li>
<li><strong>Immutable</strong>: Flyweight objects must be immutable</li>
<li><strong>Factory</strong>: Factory manages caching and reuse</li>
</ul>
